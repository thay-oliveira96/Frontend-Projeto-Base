<div class="container mat-elevation-z8">
    <h1 class="full-width">Abertura de Ordem de Manutenção</h1>
    <img class="full-width" src="assets/img/chamado-create.svg" alt="Chamado image">
 
    <div class="defeitos">
      <mat-form-field class="full-width" appearance="outline">
         <mat-label>Selecione o Titulo</mat-label>
         <mat-select 
         [(ngModel)]="ordem.defeitos"
         name="defeitos"
         [formControl]="defeitos" 
         required>
           <mat-option *ngFor="let def of defeitoso" value="{{ def.id }}">{{ def.descricao }}</mat-option>
         </mat-select>
       </mat-form-field>
    </div>

     <div class="maquina">
      <mat-form-field class="full-width" appearance="outline">
         <mat-label>Selecione a Maquina</mat-label>
         <mat-select 
         [(ngModel)]="ordem.maquina"
         name="maquina"
         [formControl]="maquina" 
         required>
           <mat-option *ngFor="let maq of maquinas" value="{{ maq.id }}">{{ maq.nome }}</mat-option>
         </mat-select>
       </mat-form-field>
    </div>

    <div class="cliente">
      <mat-form-field class="full-width" appearance="outline">
         <mat-label>Selecione o nome do solicitante</mat-label>
         <mat-select 
         [(ngModel)]="ordem.cliente"
         name="cliente"
         [formControl]="cliente" 
         required>
           <mat-option *ngFor="let cli of clientes" value="{{ cli.id }}">{{ cli.nome }}</mat-option>
         </mat-select>
       </mat-form-field>
    </div>

    <mat-radio-group aria-label="Select an option" class="full-width"
    [(ngModel)]="ordem.parada"
      name="parada"
      [formControl]="parada"
      matInput 
      color="primary"
      required
    >
      <mat-radio-button value="Maquina Parada">Maquina Parada</mat-radio-button>
      <mat-radio-button value="Em Funcionamento">Em Funcionamento</mat-radio-button>
      <mat-radio-button value="Funcionamento Parcial">Funcionamento Parcial</mat-radio-button>
    </mat-radio-group>
    <br>
    <div class="status-prioridade">
      <p class="letra">Maquina parada? Informe o horario</p>
      <input
      [(ngModel)]="ordem.horaParada"
      name="horaParada"
      [formControl]="parada"
      class="hora" appearance="outline"
       type="time" id="appt" name="appt"
       min="09:00" max="18:00"
        >
    </div>
    <br>
    <form class="form">  
      <mat-form-field class="full-width" appearance="outline">
        <mat-label>Deixe uma observação</mat-label>
        <textarea 
        [(ngModel)]="ordem.observacoes"
        name="observacoes"
        [formControl]="observacoes"
        required
        class="observacoes" 
        matInput 
        placeholder="Ex. Algum comportamento que a maquina está que seja fora do normal..."></textarea>
      </mat-form-field>
    </form>
   
     <button (click)="create()" [disabled]="!validaCampos()" class="full-width mat-elevation-z4" mat-raised-button color="primary">Abrir Ordem</button>
     <button routerLink="../" class="full-width mat-elevation-z4" mat-stroked-button color="warn">Cancelar</button>
 
     <p class="full-width">Desnvolvido por Thaynan e Vinicius</p>
 </div>